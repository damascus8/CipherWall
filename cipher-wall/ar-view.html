<!DOCTYPE html>
<html>
  <head>
    <title>AR View - Cipher Wall</title>

    <!-- A-Frame + AR.js -->
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/jeromeetienne/ar.js/2.0.1/aframe/build/aframe-ar.min.js"></script>

    <!-- CryptoJS for decryption -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>

    <!-- Your Script -->
    <script src="/js/ar-view-loader.js"></script>

    <style>
      body, html { margin: 0; padding: 0; overflow: hidden; }
      #decryptPrompt {
        position: fixed;
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
        background: white;
        padding: 12px 18px;
        border-radius: 8px;
        display: none;
        z-index: 1000;
      }
    </style>
  </head>
  <body>

    <!-- 🔐 Decryption Prompt -->
    <div id="decryptPrompt">
      <label>Enter Key: </label>
      <input type="text" id="decryptKey" />
      <button onclick="submitDecryptionKey()">Submit</button>
    </div>

    <!-- 🧠 AR Scene -->
    <a-scene embedded arjs>
      <a-marker preset="hiro">
        <a-entity 
          id="textDisplay"
          position="0 1.5 0"
          text="value: Waiting for QR data...; color: yellow; align: center"
          scale="3 3 3"
        ></a-entity>
      </a-marker>

      <!-- Camera -->
      <a-entity camera></a-entity>
    </a-scene>

  </body>
</html>
